(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(75)},43:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(34),r=n.n(c),i=n(7),s=(n(43),n(35)),l=n.n(s),u=n(36);function d(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),o=n[0],c=n[1],r=e.client_id,s=e.logger,d=e.request;return Object(a.useEffect)(function(){var e=new u.Client({});e.configure({webSocketFactory:function(){return new l.a("https://logbridge.herokuapp.com/sockjs")},onConnect:function(){e.subscribe("/response/".concat(r),function(t){var n=JSON.parse(t.body);c(n.message),e.deactivate()}),e.publish({destination:"/app/request/".concat(s),body:JSON.stringify({client_id:r,request:d})})}}),e.activate()},[r,s,d]),o}function m(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)(function(){!function(e){var t=new(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)({iceServers:[]}),n=function(){},a={},o=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g;function c(t){a[t]||e(t),a[t]=!0}t.createDataChannel(""),t.createOffer().then(function(e){e.sdp.split("\n").forEach(function(e){e.indexOf("candidate")<0||e.match(o).forEach(c)}),t.setLocalDescription(e,n,n)}).catch(function(e){}),t.onicecandidate=function(e){e&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.match(o)&&e.candidate.candidate.match(o).forEach(c)}}(function(e){o(e.replace(/\./g,"_"))})}),n}function f(e){var t=d({logger:e.logger,client_id:m(),request:"ultima_transmissao"});return o.a.createElement("ul",{className:"lista_transmissores"},t.sort(function(e,t){return e.no>t.no}).map(function(t){return o.a.createElement("li",{className:"lista_transmissores",key:t.no+t.data_hora,onClick:function(){return e.onClick(t)}},o.a.createElement("div",null,t.no),o.a.createElement("div",null,new Date(t.data_hora).toLocaleString("pt-BR")))}))}var g=n(37);n(73);function h(e){var t=e.logger,n=e.transmissor,a=d({logger:t,client_id:m(),request:"dados/".concat(n)}),c={no:"",data_hora:""};return a.map(function(e){return c=Object(g.a)({},c,e)}),c=Object.keys(c),0===a.length?"Carregando dados do transmissor ".concat(n,"..."):o.a.createElement("table",{className:"lista_dados"},o.a.createElement("thead",null,o.a.createElement("tr",null,c.map(function(e){return o.a.createElement("th",{key:e},e)}))),o.a.createElement("tbody",null,a.map(function(e){return o.a.createElement("tr",{className:"lista_dados",key:e.no+e.data_hora},c.map(function(t){return o.a.createElement("td",{key:t},"data_hora"===t?new Date(e[t]).toLocaleString("pt-BR"):e[t])}))})))}n(74);var p=function(){var e=Object(a.useState)("rflogger01"),t=Object(i.a)(e,1)[0],n=Object(a.useState)(void 0),c=Object(i.a)(n,2),r=c[0],s=c[1];return void 0===m()?null:o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"sidebar"},o.a.createElement(f,{logger:t,onClick:function(e){return s(e.no)}})),o.a.createElement("div",{className:"main"},void 0!==r&&void 0!==t?o.a.createElement(h,{logger:t,transmissor:r}):null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.466f32c1.chunk.js.map